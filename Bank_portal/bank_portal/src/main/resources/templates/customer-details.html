<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<title>Employee dashboard - Retail Banking System</title>
	<link href="webjars/bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet" />
	<link href="webjars/bootstrap-icons/1.8.0/font/bootstrap-icons.css" rel="stylesheet" />
	<!-- Custom styles -->
	<link href="css/employee.css" rel="stylesheet">
</head>

<body>

	<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
		<a class="navbar-brand col-md-3 col-lg-2 me-0 px-3" href="/">Retail Banking System - Employee Back Office</a>
		<button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
			data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div th:replace="fragments/logout :: logout"></div>
	</header>

	<div class="container-fluid">
		<div class="row">
			<nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
				<div class="position-sticky pt-3">
					<ul class="nav flex-column">
						<li class="nav-item">
							<a class="nav-link" href="/employee">
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
									class="bi bi-house-door" viewBox="0 0 16 16">
									<path
										d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z" />
								</svg>
								Dashboard
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/customers">
								<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
									class="bi bi-people" viewBox="0 0 16 16">
									<path
										d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" />
								</svg>
								Customers
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link active" href="/getCustomer">
								<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
									class="bi bi-person-rolodex" viewBox="0 0 16 16">
									<path d="M8 9.05a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z" />
									<path
										d="M1 1a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h.5a.5.5 0 0 0 .5-.5.5.5 0 0 1 1 0 .5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5.5.5 0 0 1 1 0 .5.5 0 0 0 .5.5h.5a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H6.707L6 1.293A1 1 0 0 0 5.293 1H1Zm0 1h4.293L6 2.707A1 1 0 0 0 6.707 3H15v10h-.085a1.5 1.5 0 0 0-2.4-.63C11.885 11.223 10.554 10 8 10c-2.555 0-3.886 1.224-4.514 2.37a1.5 1.5 0 0 0-2.4.63H1V2Z" />
								</svg>
								Customer details
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/createCustomer">
								<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor"
									class="bi bi-person-plus" viewBox="0 0 16 16">
									<path
										d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z" />
									<path fill-rule="evenodd"
										d="M13.5 5a.5.5 0 0 1 .5.5V7h1.5a.5.5 0 0 1 0 1H14v1.5a.5.5 0 0 1-1 0V8h-1.5a.5.5 0 0 1 0-1H13V5.5a.5.5 0 0 1 .5-.5z" />
								</svg>
								Create customer
							</a>
						</li>

					</ul>
				</div>
			</nav>
			

			<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
				<div
					class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
					<h1 class="h2">Customer details</h1>
					<form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" action="/getCustomer" method="GET">
						<input name="firstName" type="text" autofocus class="form-control" placeholder="Search by First Name..."
							aria-label="Search">
					</form>
				</div>
				
				<div th:if="${status}">
						<p th:if="${status.message == 'ko'}" class="alert alert-danger d-flex justify-content-between">
							<span>Failed to create new customer</span> <svg xmlns="http://www.w3.org/2000/svg"
								width="25" height="25" fill="currentColor" class="bi bi-exclamation-circle-fill"
								viewBox="0 0 16 16">
								<path
									d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8 4a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 4zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" />
							</svg> </p>
						<p th:unless="${status.message == 'ko'}" class="alert alert-success d-flex justify-content-between">
							<span th:text="${status.message}" />
							<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
								class="bi bi-check-circle-fill" viewBox="0 0 16 16">
								<path
									d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
							</svg>
						</p>
					</div>

				<section th:if="${customer}" class="container-fluid">

					<h4 class="d-flex justify-content-center align-items-center mb-3">
						<span class="text-primary">Personnal Information</span>
					</h4>
					<div class="d-flex justify-content-around">
						<div class="card w-50 m-2">
							<div class="card-header d-flex justify-content-between">
								<span>Identity</span>
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
									class="bi bi-person" viewBox="0 0 16 16">
									<path
										d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z" />
								</svg>
							</div>

							<ul class="list-group list-group-flush">
								<li class="list-group-item d-flex justify-content-between lh-sm">
									<div>
										<h6 class="my-0">First Name</h6>
										<small class="text-muted">Customer first name</small>
									</div>
									<span class="text-muted" th:text="${customer.firstName}"/>
								</li>
								<li class="list-group-item d-flex justify-content-between lh-sm">
									<div>
										<h6 class="my-0">Last Name</h6>
										<small class="text-muted">Customer last name</small>
									</div>
									<span class="text-muted" th:text="${customer.lastName}" />
								</li>
								<li class="list-group-item d-flex justify-content-between lh-sm">
									<div>
										<h6 class="my-0">Date of birth</h6>
										<small class="text-muted">Customer date of birth</small>
									</div>
									<span class="text-muted" th:text="${customer.dateOfBirth}" />
								</li>
							</ul>
						</div>

						<div class="card w-50 m-2">
							<div class="card-header d-flex justify-content-between">
								<span>Contact</span>
								<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
									class="bi bi-envelope" viewBox="0 0 16 16">
									<path
										d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z" />
								</svg>
							</div>

							<ul class="list-group list-group-flush">
								<li class="list-group-item d-flex justify-content-between lh-sm">
									<div>
										<h6 class="my-0">Email address</h6>
										<small class="text-muted">Customer email address</small>
									</div>
									<span class="text-muted" th:text="${customer.email}" />
								</li>
								<li class="list-group-item d-flex justify-content-between lh-sm">
									<div>
										<h6 class="my-0">Mobile Number</h6>
										<small class="text-muted">Customer mobile number</small>
									</div>
									<span class="text-muted" th:text="${customer.mobileNumber}" />
								</li>

								<li class="list-group-item d-flex justify-content-between lh-sm">
									<div>
										<h6 class="my-0">Address</h6>
										<small class="text-muted">Customer personnal address</small>
									</div>
									<span class="text-muted" th:text="${customer.address}" />
								</li>
							</ul>
						</div>
					</div>

					<h4 class="d-flex justify-content-center align-items-center mb-3">
						<span class="text-primary">Accounts summary</span>
					</h4>
					<div class="d-flex justify-content-around" th:if="${customer.accountsSummary.size > 0}">
						<div class="card w-50 m-2" th:each="account: ${customer.accountsSummary}">
							<div class="card-header d-flex justify-content-between">
								<span th:if="${account.accountType =='Current'}">Current Account</span>
								<svg th:if="${account.accountType == 'Current'}" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
									class="bi bi-wallet2" viewBox="0 0 16 16">
									<path
										d="M12.136.326A1.5 1.5 0 0 1 14 1.78V3h.5A1.5 1.5 0 0 1 16 4.5v9a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 13.5v-9a1.5 1.5 0 0 1 1.432-1.499L12.136.326zM5.562 3H13V1.78a.5.5 0 0 0-.621-.484L5.562 3zM1.5 4a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-13z" />
								</svg>
								<span th:if="${account.accountType == 'Savings'}">Savings Account</span>
								<svg th:if="${account.accountType == 'Savings'}" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
									class="bi bi-piggy-bank" viewBox="0 0 16 16">
									<path
										d="M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z" />
									<path fill-rule="evenodd"
										d="M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z" />
								</svg>
							</div>

							<ul class="list-group list-group-flush">
								<li class="list-group-item d-flex justify-content-between lh-sm">
									<div>
										<h6 class="my-0">Account Number</h6>
									</div>
									<span class="text-muted" th:text="${account.accountNo}"/>
								</li>
								<li class="list-group-item d-flex justify-content-between lh-sm">
									<div>
										<h6 class="my-0">Date of creation</h6>
									</div>
									<span class="text-muted" th:text="${account.dateOfCreation}" />
								</li>
								<li class="list-group-item d-flex justify-content-between">
									<div class="text-info">
										<h6 class="my-0">Balance</h6>
									</div>
									<span class="text-info" th:text="${account.balance}"/>
								</li>

							</ul>
						</div>
					</div>
					<div th:unless="${customer.accountsSummary.size > 0}">
						<p class="alert alert-warning">No accounts found for <strong th:text="${customer.firstName}"/> <strong th:text="${customer.lastName}"/></p>
					</div>

				</section>
				<section th:unless="${customer}">
					<p class="alert alert-warning">No customer found</p>
				</section>

			</main>
		</div>
	</div>

	<div th:replace="fragments/footer :: footer"></div>

</body>

</html>